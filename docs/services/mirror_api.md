# Mirror_api Service



**Resources**: 7

---

## Overview

The mirror_api service provides access to 7 resource types:

- [Location](#location) [R]
- [Contact](#contact) [CRUD]
- [Timeline](#timeline) [CRUD]
- [Setting](#setting) [R]
- [Account](#account) [C]
- [Attachment](#attachment) [CRD]
- [Subscription](#subscription) [CRUD]

---

## Resources


### Location

Gets a single location by ID.

**Operations**: ✅ Read

#### Fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|


#### Outputs

| Output | Type | Description |
|--------|------|-------------|
| `display_name` | String | The name to be displayed. This may be a business name or a user-defined place, such as "Home". |
| `accuracy` | f64 | The accuracy of the location fix in meters. |
| `longitude` | f64 | The longitude, in degrees. |
| `latitude` | f64 | The latitude, in degrees. |
| `kind` | String | The type of resource. This is always mirror#location. |
| `id` | String | The ID of the location. |
| `address` | String | The full address of the location. |
| `timestamp` | String | The time at which this location was captured, formatted according to RFC 3339. |


#### Usage Example

```kcl
# main.k
import gcp

# Initialize provider
provider = gcp.GcpProvider {
    project = "my-project-id"
}

# Access location outputs
location_id = location.id
location_display_name = location.display_name
location_accuracy = location.accuracy
location_longitude = location.longitude
location_latitude = location.latitude
location_kind = location.kind
location_id = location.id
location_address = location.address
location_timestamp = location.timestamp
```

---


### Contact

Inserts a new contact.

**Operations**: ✅ Create ✅ Read ✅ Update ✅ Delete

#### Fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `accept_commands` | Vec<String> |  | A list of voice menu commands that a contact can handle. Glass shows up to three contacts for each voice menu command. If there are more than that, the three contacts with the highest priority are shown for that particular command. |
| `priority` | i64 |  | Priority for the contact to determine ordering in a list of contacts. Contacts with higher priorities will be shown before ones with lower priorities. |
| `speakable_name` | String |  | Name of this contact as it should be pronounced. If this contact's name must be spoken as part of a voice disambiguation menu, this name is used as the expected pronunciation. This is useful for contact names with unpronounceable characters or whose display spelling is otherwise not phonetic. |
| `id` | String |  | An ID for this contact. This is generated by the application and is treated as an opaque token. |
| `source` | String |  | The ID of the application that created this contact. This is populated by the API |
| `type` | String |  | The type for this contact. This is used for sorting in UIs. Allowed values are:  
- INDIVIDUAL - Represents a single person. This is the default. 
- GROUP - Represents more than a single person. |
| `kind` | String |  | The type of resource. This is always mirror#contact. |
| `accept_types` | Vec<String> |  | A list of MIME types that a contact supports. The contact will be shown to the user if any of its acceptTypes matches any of the types of the attachments on the item. If no acceptTypes are given, the contact will be shown for all items. |
| `display_name` | String |  | The name to display for this contact. |
| `sharing_features` | Vec<String> |  | A list of sharing features that a contact can handle. Allowed values are:  
- ADD_CAPTION |
| `phone_number` | String |  | Primary phone number for the contact. This can be a fully-qualified number, with country calling code and area code, or a local number. |
| `image_urls` | Vec<String> |  | Set of image URLs to display for a contact. Most contacts will have a single image, but a "group" contact may include up to 8 image URLs and they will be resized and cropped into a mosaic on the client. |


#### Outputs

| Output | Type | Description |
|--------|------|-------------|
| `accept_commands` | Vec<String> | A list of voice menu commands that a contact can handle. Glass shows up to three contacts for each voice menu command. If there are more than that, the three contacts with the highest priority are shown for that particular command. |
| `priority` | i64 | Priority for the contact to determine ordering in a list of contacts. Contacts with higher priorities will be shown before ones with lower priorities. |
| `speakable_name` | String | Name of this contact as it should be pronounced. If this contact's name must be spoken as part of a voice disambiguation menu, this name is used as the expected pronunciation. This is useful for contact names with unpronounceable characters or whose display spelling is otherwise not phonetic. |
| `id` | String | An ID for this contact. This is generated by the application and is treated as an opaque token. |
| `source` | String | The ID of the application that created this contact. This is populated by the API |
| `type` | String | The type for this contact. This is used for sorting in UIs. Allowed values are:  
- INDIVIDUAL - Represents a single person. This is the default. 
- GROUP - Represents more than a single person. |
| `kind` | String | The type of resource. This is always mirror#contact. |
| `accept_types` | Vec<String> | A list of MIME types that a contact supports. The contact will be shown to the user if any of its acceptTypes matches any of the types of the attachments on the item. If no acceptTypes are given, the contact will be shown for all items. |
| `display_name` | String | The name to display for this contact. |
| `sharing_features` | Vec<String> | A list of sharing features that a contact can handle. Allowed values are:  
- ADD_CAPTION |
| `phone_number` | String | Primary phone number for the contact. This can be a fully-qualified number, with country calling code and area code, or a local number. |
| `image_urls` | Vec<String> | Set of image URLs to display for a contact. Most contacts will have a single image, but a "group" contact may include up to 8 image URLs and they will be resized and cropped into a mosaic on the client. |


#### Usage Example

```kcl
# main.k
import gcp

# Initialize provider
provider = gcp.GcpProvider {
    project = "my-project-id"
}

# Create contact
contact = provider.mirror_api.Contact {
}

# Access contact outputs
contact_id = contact.id
contact_accept_commands = contact.accept_commands
contact_priority = contact.priority
contact_speakable_name = contact.speakable_name
contact_id = contact.id
contact_source = contact.source
contact_type = contact.type
contact_kind = contact.kind
contact_accept_types = contact.accept_types
contact_display_name = contact.display_name
contact_sharing_features = contact.sharing_features
contact_phone_number = contact.phone_number
contact_image_urls = contact.image_urls
```

---


### Timeline

Inserts a new item into the timeline.

**Operations**: ✅ Create ✅ Read ✅ Update ✅ Delete

#### Fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `etag` | String |  | ETag for this item. |
| `creator` | String |  | The user or group that created this item. |
| `attachments` | Vec<String> |  | A list of media attachments associated with this item. As a convenience, you can refer to attachments in your HTML payloads with the attachment or cid scheme. For example:  
- attachment: <img src="attachment:attachment_index"> where attachment_index is the 0-based index of this array. 
- cid: <img src="cid:attachment_id"> where attachment_id is the ID of the attachment. |
| `title` | String |  | The title of this item. |
| `speakable_text` | String |  | The speakable version of the content of this item. Along with the READ_ALOUD menu item, use this field to provide text that would be clearer when read aloud, or to provide extended information to what is displayed visually on Glass.

Glassware should also specify the speakableType field, which will be spoken before this text in cases where the additional context is useful, for example when the user requests that the item be read aloud following a notification. |
| `is_pinned` | bool |  | When true, indicates this item is pinned, which means it's grouped alongside "active" items like navigation and hangouts, on the opposite side of the home screen from historical (non-pinned) timeline items. You can allow the user to toggle the value of this property with the TOGGLE_PINNED built-in menu item. |
| `updated` | String |  | The time at which this item was last modified, formatted according to RFC 3339. |
| `display_time` | String |  | The time that should be displayed when this item is viewed in the timeline, formatted according to RFC 3339. This user's timeline is sorted chronologically on display time, so this will also determine where the item is displayed in the timeline. If not set by the service, the display time defaults to the updated time. |
| `source_item_id` | String |  | Opaque string you can use to map a timeline item to data in your own service. |
| `menu_items` | Vec<String> |  | A list of menu items that will be presented to the user when this item is selected in the timeline. |
| `text` | String |  | Text content of this item. |
| `canonical_url` | String |  | A canonical URL pointing to the canonical/high quality version of the data represented by the timeline item. |
| `is_bundle_cover` | bool |  | Whether this item is a bundle cover.

If an item is marked as a bundle cover, it will be the entry point to the bundle of items that have the same bundleId as that item. It will be shown only on the main timeline — not within the opened bundle.

On the main timeline, items that are shown are:  
- Items that have isBundleCover set to true  
- Items that do not have a bundleId  In a bundle sub-timeline, items that are shown are:  
- Items that have the bundleId in question AND isBundleCover set to false |
| `pin_score` | i64 |  | For pinned items, this determines the order in which the item is displayed in the timeline, with a higher score appearing closer to the clock. Note: setting this field is currently not supported. |
| `recipients` | Vec<String> |  | A list of users or groups that this item has been shared with. |
| `kind` | String |  | The type of resource. This is always mirror#timelineItem. |
| `speakable_type` | String |  | A speakable description of the type of this item. This will be announced to the user prior to reading the content of the item in cases where the additional context is useful, for example when the user requests that the item be read aloud following a notification.

This should be a short, simple noun phrase such as "Email", "Text message", or "Daily Planet News Update".

Glassware are encouraged to populate this field for every timeline item, even if the item does not contain speakableText or text so that the user can learn the type of the item without looking at the screen. |
| `bundle_id` | String |  | The bundle ID for this item. Services can specify a bundleId to group many items together. They appear under a single top-level item on the device. |
| `id` | String |  | The ID of the timeline item. This is unique within a user's timeline. |
| `location` | String |  | The geographic location associated with this item. |
| `notification` | String |  | Controls how notifications for this item are presented on the device. If this is missing, no notification will be generated. |
| `self_link` | String |  | A URL that can be used to retrieve this item. |
| `created` | String |  | The time at which this item was created, formatted according to RFC 3339. |
| `is_deleted` | bool |  | When true, indicates this item is deleted, and only the ID property is set. |
| `in_reply_to` | String |  | If this item was generated as a reply to another item, this field will be set to the ID of the item being replied to. This can be used to attach a reply to the appropriate conversation or post. |
| `html` | String |  | HTML content for this item. If both text and html are provided for an item, the html will be rendered in the timeline.
Allowed HTML elements - You can use these elements in your timeline cards.
 
- Headers: h1, h2, h3, h4, h5, h6 
- Images: img 
- Lists: li, ol, ul 
- HTML5 semantics: article, aside, details, figure, figcaption, footer, header, nav, section, summary, time 
- Structural: blockquote, br, div, hr, p, span 
- Style: b, big, center, em, i, u, s, small, strike, strong, style, sub, sup 
- Tables: table, tbody, td, tfoot, th, thead, tr  
Blocked HTML elements: These elements and their contents are removed from HTML payloads.
 
- Document headers: head, title 
- Embeds: audio, embed, object, source, video 
- Frames: frame, frameset 
- Scripting: applet, script  
Other elements: Any elements that aren't listed are removed, but their contents are preserved. |


#### Outputs

| Output | Type | Description |
|--------|------|-------------|
| `etag` | String | ETag for this item. |
| `creator` | String | The user or group that created this item. |
| `attachments` | Vec<String> | A list of media attachments associated with this item. As a convenience, you can refer to attachments in your HTML payloads with the attachment or cid scheme. For example:  
- attachment: <img src="attachment:attachment_index"> where attachment_index is the 0-based index of this array. 
- cid: <img src="cid:attachment_id"> where attachment_id is the ID of the attachment. |
| `title` | String | The title of this item. |
| `speakable_text` | String | The speakable version of the content of this item. Along with the READ_ALOUD menu item, use this field to provide text that would be clearer when read aloud, or to provide extended information to what is displayed visually on Glass.

Glassware should also specify the speakableType field, which will be spoken before this text in cases where the additional context is useful, for example when the user requests that the item be read aloud following a notification. |
| `is_pinned` | bool | When true, indicates this item is pinned, which means it's grouped alongside "active" items like navigation and hangouts, on the opposite side of the home screen from historical (non-pinned) timeline items. You can allow the user to toggle the value of this property with the TOGGLE_PINNED built-in menu item. |
| `updated` | String | The time at which this item was last modified, formatted according to RFC 3339. |
| `display_time` | String | The time that should be displayed when this item is viewed in the timeline, formatted according to RFC 3339. This user's timeline is sorted chronologically on display time, so this will also determine where the item is displayed in the timeline. If not set by the service, the display time defaults to the updated time. |
| `source_item_id` | String | Opaque string you can use to map a timeline item to data in your own service. |
| `menu_items` | Vec<String> | A list of menu items that will be presented to the user when this item is selected in the timeline. |
| `text` | String | Text content of this item. |
| `canonical_url` | String | A canonical URL pointing to the canonical/high quality version of the data represented by the timeline item. |
| `is_bundle_cover` | bool | Whether this item is a bundle cover.

If an item is marked as a bundle cover, it will be the entry point to the bundle of items that have the same bundleId as that item. It will be shown only on the main timeline — not within the opened bundle.

On the main timeline, items that are shown are:  
- Items that have isBundleCover set to true  
- Items that do not have a bundleId  In a bundle sub-timeline, items that are shown are:  
- Items that have the bundleId in question AND isBundleCover set to false |
| `pin_score` | i64 | For pinned items, this determines the order in which the item is displayed in the timeline, with a higher score appearing closer to the clock. Note: setting this field is currently not supported. |
| `recipients` | Vec<String> | A list of users or groups that this item has been shared with. |
| `kind` | String | The type of resource. This is always mirror#timelineItem. |
| `speakable_type` | String | A speakable description of the type of this item. This will be announced to the user prior to reading the content of the item in cases where the additional context is useful, for example when the user requests that the item be read aloud following a notification.

This should be a short, simple noun phrase such as "Email", "Text message", or "Daily Planet News Update".

Glassware are encouraged to populate this field for every timeline item, even if the item does not contain speakableText or text so that the user can learn the type of the item without looking at the screen. |
| `bundle_id` | String | The bundle ID for this item. Services can specify a bundleId to group many items together. They appear under a single top-level item on the device. |
| `id` | String | The ID of the timeline item. This is unique within a user's timeline. |
| `location` | String | The geographic location associated with this item. |
| `notification` | String | Controls how notifications for this item are presented on the device. If this is missing, no notification will be generated. |
| `self_link` | String | A URL that can be used to retrieve this item. |
| `created` | String | The time at which this item was created, formatted according to RFC 3339. |
| `is_deleted` | bool | When true, indicates this item is deleted, and only the ID property is set. |
| `in_reply_to` | String | If this item was generated as a reply to another item, this field will be set to the ID of the item being replied to. This can be used to attach a reply to the appropriate conversation or post. |
| `html` | String | HTML content for this item. If both text and html are provided for an item, the html will be rendered in the timeline.
Allowed HTML elements - You can use these elements in your timeline cards.
 
- Headers: h1, h2, h3, h4, h5, h6 
- Images: img 
- Lists: li, ol, ul 
- HTML5 semantics: article, aside, details, figure, figcaption, footer, header, nav, section, summary, time 
- Structural: blockquote, br, div, hr, p, span 
- Style: b, big, center, em, i, u, s, small, strike, strong, style, sub, sup 
- Tables: table, tbody, td, tfoot, th, thead, tr  
Blocked HTML elements: These elements and their contents are removed from HTML payloads.
 
- Document headers: head, title 
- Embeds: audio, embed, object, source, video 
- Frames: frame, frameset 
- Scripting: applet, script  
Other elements: Any elements that aren't listed are removed, but their contents are preserved. |


#### Usage Example

```kcl
# main.k
import gcp

# Initialize provider
provider = gcp.GcpProvider {
    project = "my-project-id"
}

# Create timeline
timeline = provider.mirror_api.Timeline {
}

# Access timeline outputs
timeline_id = timeline.id
timeline_etag = timeline.etag
timeline_creator = timeline.creator
timeline_attachments = timeline.attachments
timeline_title = timeline.title
timeline_speakable_text = timeline.speakable_text
timeline_is_pinned = timeline.is_pinned
timeline_updated = timeline.updated
timeline_display_time = timeline.display_time
timeline_source_item_id = timeline.source_item_id
timeline_menu_items = timeline.menu_items
timeline_text = timeline.text
timeline_canonical_url = timeline.canonical_url
timeline_is_bundle_cover = timeline.is_bundle_cover
timeline_pin_score = timeline.pin_score
timeline_recipients = timeline.recipients
timeline_kind = timeline.kind
timeline_speakable_type = timeline.speakable_type
timeline_bundle_id = timeline.bundle_id
timeline_id = timeline.id
timeline_location = timeline.location
timeline_notification = timeline.notification
timeline_self_link = timeline.self_link
timeline_created = timeline.created
timeline_is_deleted = timeline.is_deleted
timeline_in_reply_to = timeline.in_reply_to
timeline_html = timeline.html
```

---


### Setting

Gets a single setting by ID.

**Operations**: ✅ Read

#### Fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|


#### Outputs

| Output | Type | Description |
|--------|------|-------------|
| `kind` | String | The type of resource. This is always mirror#setting. |
| `id` | String | The setting's ID. The following IDs are valid:  
- locale - The key to the user’s language/locale (BCP 47 identifier) that Glassware should use to render localized content.  
- timezone - The key to the user’s current time zone region as defined in the tz database. Example: America/Los_Angeles. |
| `value` | String | The setting value, as a string. |


#### Usage Example

```kcl
# main.k
import gcp

# Initialize provider
provider = gcp.GcpProvider {
    project = "my-project-id"
}

# Access setting outputs
setting_id = setting.id
setting_kind = setting.kind
setting_id = setting.id
setting_value = setting.value
```

---


### Account

Inserts a new account for a user

**Operations**: ✅ Create

#### Fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `password` | String |  |  |
| `auth_tokens` | Vec<String> |  |  |
| `user_data` | Vec<String> |  |  |
| `features` | Vec<String> |  |  |
| `account_name` | String | ✅ | The name of the account to be passed to the Android Account Manager. |
| `user_token` | String | ✅ | The ID for the user. |
| `account_type` | String | ✅ | Account type to be passed to Android Account Manager. |



#### Usage Example

```kcl
# main.k
import gcp

# Initialize provider
provider = gcp.GcpProvider {
    project = "my-project-id"
}

# Create account
account = provider.mirror_api.Account {
    account_name = "value"  # The name of the account to be passed to the Android Account Manager.
    user_token = "value"  # The ID for the user.
    account_type = "value"  # Account type to be passed to Android Account Manager.
}

```

---


### Attachment

Adds a new attachment to a timeline item.

**Operations**: ✅ Create ✅ Read ✅ Delete

#### Fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `item_id` | String | ✅ | The ID of the timeline item the attachment belongs to. |


#### Outputs

| Output | Type | Description |
|--------|------|-------------|
| `id` | String | The ID of the attachment. |
| `is_processing_content` | bool | Indicates that the contentUrl is not available because the attachment content is still being processed. If the caller wishes to retrieve the content, it should try again later. |
| `content_url` | String | The URL for the content. |
| `content_type` | String | The MIME type of the attachment. |


#### Usage Example

```kcl
# main.k
import gcp

# Initialize provider
provider = gcp.GcpProvider {
    project = "my-project-id"
}

# Create attachment
attachment = provider.mirror_api.Attachment {
    item_id = "value"  # The ID of the timeline item the attachment belongs to.
}

# Access attachment outputs
attachment_id = attachment.id
attachment_id = attachment.id
attachment_is_processing_content = attachment.is_processing_content
attachment_content_url = attachment.content_url
attachment_content_type = attachment.content_type
```

---


### Subscription

Creates a new subscription.

**Operations**: ✅ Create ✅ Read ✅ Update ✅ Delete

#### Fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `collection` | String |  | The collection to subscribe to. Allowed values are:  
- timeline - Changes in the timeline including insertion, deletion, and updates. 
- locations - Location updates. 
- settings - Settings updates. |
| `operation` | Vec<String> |  | A list of operations that should be subscribed to. An empty list indicates that all operations on the collection should be subscribed to. Allowed values are:  
- UPDATE - The item has been updated. 
- INSERT - A new item has been inserted. 
- DELETE - The item has been deleted. 
- MENU_ACTION - A custom menu item has been triggered by the user. |
| `verify_token` | String |  | A secret token sent to the subscriber in notifications so that it can verify that the notification was generated by Google. |
| `id` | String |  | The ID of the subscription. |
| `callback_url` | String |  | The URL where notifications should be delivered (must start with https://). |
| `notification` | String |  | Container object for notifications. This is not populated in the Subscription resource. |
| `user_token` | String |  | An opaque token sent to the subscriber in notifications so that it can determine the ID of the user. |
| `kind` | String |  | The type of resource. This is always mirror#subscription. |
| `updated` | String |  | The time at which this subscription was last modified, formatted according to RFC 3339. |


#### Outputs

| Output | Type | Description |
|--------|------|-------------|
| `items` | Vec<String> | The list of subscriptions. |
| `kind` | String | The type of resource. This is always mirror#subscriptionsList. |


#### Usage Example

```kcl
# main.k
import gcp

# Initialize provider
provider = gcp.GcpProvider {
    project = "my-project-id"
}

# Create subscription
subscription = provider.mirror_api.Subscription {
}

# Access subscription outputs
subscription_id = subscription.id
subscription_items = subscription.items
subscription_kind = subscription.kind
```

---



## Common Operations

### Creating Multiple Resources

```kcl
import gcp

provider = gcp.GcpProvider {
    project = "my-project-id"
}

# Create multiple location resources
location_0 = provider.mirror_api.Location {
}
location_1 = provider.mirror_api.Location {
}
location_2 = provider.mirror_api.Location {
}
```

### Conditional Creation

```kcl
# Only create in production
if environment == "production":
    location = provider.mirror_api.Location {
    }
```

---

## Related Documentation

- [GCP Mirror_api Documentation](https://cloud.google.com/mirror_api/docs)
- [Getting Started Guide](../getting-started.md)
- [Installation Guide](../installation.md)
- ⬅️ [Back to README](../../README.md)
