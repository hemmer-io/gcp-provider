# Genomics_api Service



**Resources**: 5

---

## Overview

The genomics_api service provides access to 5 resource types:

- [Pipeline](#pipeline) [CRUD]
- [Operation](#operation) [CR]
- [Worker](#worker) [C]
- [Operation](#operation) [CR]
- [Pipeline](#pipeline) [C]

---

## Resources


### Pipeline

Creates a pipeline that can be run later. Create takes a Pipeline that has all fields other than `pipelineId` populated, and then returns the same pipeline with `pipelineId` populated. This id can be used to run the pipeline. Caller must have WRITE permission to the project.

**Operations**: ✅ Create ✅ Read ✅ Update ✅ Delete

#### Fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `docker` | String |  | Specifies the docker run information. |
| `input_parameters` | Vec<String> |  | Input parameters of the pipeline. |
| `description` | String |  | User-specified description. |
| `name` | String |  | Required. A user specified pipeline name that does not have to be unique. This name can be used for filtering Pipelines in ListPipelines. |
| `pipeline_id` | String |  | Unique pipeline id that is generated by the service when CreatePipeline is called. Cannot be specified in the Pipeline used in the CreatePipelineRequest, and will be populated in the response to CreatePipeline and all subsequent Get and List calls. Indicates that the service has registered this pipeline. |
| `project_id` | String |  | Required. The project in which to create the pipeline. The caller must have WRITE access. |
| `output_parameters` | Vec<String> |  | Output parameters of the pipeline. |
| `resources` | String |  | Required. Specifies resource requirements for the pipeline run. Required fields: * minimumCpuCores * minimumRamGb |


#### Outputs

| Output | Type | Description |
|--------|------|-------------|
| `docker` | String | Specifies the docker run information. |
| `input_parameters` | Vec<String> | Input parameters of the pipeline. |
| `description` | String | User-specified description. |
| `name` | String | Required. A user specified pipeline name that does not have to be unique. This name can be used for filtering Pipelines in ListPipelines. |
| `pipeline_id` | String | Unique pipeline id that is generated by the service when CreatePipeline is called. Cannot be specified in the Pipeline used in the CreatePipelineRequest, and will be populated in the response to CreatePipeline and all subsequent Get and List calls. Indicates that the service has registered this pipeline. |
| `project_id` | String | Required. The project in which to create the pipeline. The caller must have WRITE access. |
| `output_parameters` | Vec<String> | Output parameters of the pipeline. |
| `resources` | String | Required. Specifies resource requirements for the pipeline run. Required fields: * minimumCpuCores * minimumRamGb |


#### Usage Example

```kcl
# main.k
import gcp

# Initialize provider
provider = gcp.GcpProvider {
    project = "my-project-id"
}

# Create pipeline
pipeline = provider.genomics_api.Pipeline {
}

# Access pipeline outputs
pipeline_id = pipeline.id
pipeline_docker = pipeline.docker
pipeline_input_parameters = pipeline.input_parameters
pipeline_description = pipeline.description
pipeline_name = pipeline.name
pipeline_pipeline_id = pipeline.pipeline_id
pipeline_project_id = pipeline.project_id
pipeline_output_parameters = pipeline.output_parameters
pipeline_resources = pipeline.resources
```

---


### Operation

Starts asynchronous cancellation on a long-running operation. The server makes a best effort to cancel the operation, but success is not guaranteed. Clients may use Operations.GetOperation or Operations.ListOperations to check whether the cancellation succeeded or the operation completed despite cancellation. Authorization requires the following [Google IAM](https://cloud.google.com/iam) permission: * `genomics.operations.cancel`

**Operations**: ✅ Create ✅ Read

#### Fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `name` | String | ✅ | The name of the operation resource to be cancelled. |


#### Outputs

| Output | Type | Description |
|--------|------|-------------|
| `name` | String | The server-assigned name, which is only unique within the same service that originally returns it. For example: `operations/CJHU7Oi_ChDrveSpBRjfuL-qzoWAgEw` |
| `metadata` | HashMap<String, String> | An OperationMetadata or Metadata object. This will always be returned with the Operation. |
| `response` | HashMap<String, String> | An Empty object. |
| `error` | String | The error result of the operation in case of failure or cancellation. |
| `done` | bool | If the value is `false`, it means the operation is still in progress. If `true`, the operation is completed, and either `error` or `response` is available. |


#### Usage Example

```kcl
# main.k
import gcp

# Initialize provider
provider = gcp.GcpProvider {
    project = "my-project-id"
}

# Create operation
operation = provider.genomics_api.Operation {
    name = "value"  # The name of the operation resource to be cancelled.
}

# Access operation outputs
operation_id = operation.id
operation_name = operation.name
operation_metadata = operation.metadata
operation_response = operation.response
operation_error = operation.error
operation_done = operation.done
```

---


### Worker

The worker uses this method to retrieve the assigned operation and provide periodic status updates.

**Operations**: ✅ Create

#### Fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `event` | HashMap<String, String> |  | A workflow specific event occurred. |
| `sos_report` | String |  | An SOS report for an unexpected VM failure. |
| `events` | Vec<String> |  | A list of timestamped events. |
| `deadline_expired` | String |  | The deadline has expired and the worker needs more time. |
| `result` | String |  | The operation has finished with the given result. |
| `worker_status` | String |  | Data about the status of the worker VM. |
| `id` | String | ✅ | The VM identity token for authenticating the VM instance. https://cloud.google.com/compute/docs/instances/verifying-instance-identity |



#### Usage Example

```kcl
# main.k
import gcp

# Initialize provider
provider = gcp.GcpProvider {
    project = "my-project-id"
}

# Create worker
worker = provider.genomics_api.Worker {
    id = "value"  # The VM identity token for authenticating the VM instance. https://cloud.google.com/compute/docs/instances/verifying-instance-identity
}

```

---


### Operation

Starts asynchronous cancellation on a long-running operation. The server makes a best effort to cancel the operation, but success is not guaranteed. Clients may use Operations.GetOperation or Operations.ListOperations to check whether the cancellation succeeded or the operation completed despite cancellation. Authorization requires the following [Google IAM](https://cloud.google.com/iam) permission: * `genomics.operations.cancel`

**Operations**: ✅ Create ✅ Read

#### Fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `name` | String | ✅ | The name of the operation resource to be cancelled. |


#### Outputs

| Output | Type | Description |
|--------|------|-------------|
| `metadata` | HashMap<String, String> | An OperationMetadata or Metadata object. This will always be returned with the Operation. |
| `done` | bool | If the value is `false`, it means the operation is still in progress. If `true`, the operation is completed, and either `error` or `response` is available. |
| `name` | String | The server-assigned name, which is only unique within the same service that originally returns it. For example: `operations/CJHU7Oi_ChDrveSpBRjfuL-qzoWAgEw` |
| `response` | HashMap<String, String> | An Empty object. |
| `error` | String | The error result of the operation in case of failure or cancellation. |


#### Usage Example

```kcl
# main.k
import gcp

# Initialize provider
provider = gcp.GcpProvider {
    project = "my-project-id"
}

# Create operation
operation = provider.genomics_api.Operation {
    name = "value"  # The name of the operation resource to be cancelled.
}

# Access operation outputs
operation_id = operation.id
operation_metadata = operation.metadata
operation_done = operation.done
operation_name = operation.name
operation_response = operation.response
operation_error = operation.error
```

---


### Pipeline

Runs a pipeline. The returned Operation's metadata field will contain a google.genomics.v2alpha1.Metadata object describing the status of the pipeline execution. The [response] field will contain a google.genomics.v2alpha1.RunPipelineResponse object if the pipeline completes successfully. **Note:** Before you can use this method, the Genomics Service Agent must have access to your project. This is done automatically when the Cloud Genomics API is first enabled, but if you delete this permission, or if you enabled the Cloud Genomics API before the v2alpha1 API launch, you must disable and re-enable the API to grant the Genomics Service Agent the required permissions. Authorization requires the following [Google IAM](https://cloud.google.com/iam/) permission: * `genomics.operations.create` [1]: /genomics/gsa

**Operations**: ✅ Create

#### Fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `labels` | HashMap<String, String> |  | User-defined labels to associate with the returned operation. These labels are not propagated to any Google Cloud Platform resources used by the operation, and can be modified at any time. To associate labels with resources created while executing the operation, see the appropriate resource message (for example, `VirtualMachine`). |
| `pub_sub_topic` | String |  | The name of an existing Pub/Sub topic. The server will publish messages to this topic whenever the status of the operation changes. The Genomics Service Agent account must have publisher permissions to the specified topic or notifications will not be sent. |
| `pipeline` | String |  | Required. The description of the pipeline to run. |



#### Usage Example

```kcl
# main.k
import gcp

# Initialize provider
provider = gcp.GcpProvider {
    project = "my-project-id"
}

# Create pipeline
pipeline = provider.genomics_api.Pipeline {
}

```

---



## Common Operations

### Creating Multiple Resources

```kcl
import gcp

provider = gcp.GcpProvider {
    project = "my-project-id"
}

# Create multiple pipeline resources
pipeline_0 = provider.genomics_api.Pipeline {
}
pipeline_1 = provider.genomics_api.Pipeline {
}
pipeline_2 = provider.genomics_api.Pipeline {
}
```

### Conditional Creation

```kcl
# Only create in production
if environment == "production":
    pipeline = provider.genomics_api.Pipeline {
    }
```

---

## Related Documentation

- [GCP Genomics_api Documentation](https://cloud.google.com/genomics_api/docs)
- [Getting Started Guide](../getting-started.md)
- [Installation Guide](../installation.md)
- ⬅️ [Back to README](../../README.md)
