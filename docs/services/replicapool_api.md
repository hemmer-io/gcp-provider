# Replicapool_api Service



**Resources**: 2

---

## Overview

The replicapool_api service provides access to 2 resource types:

- [Pool](#pool) [CRD]
- [Replica](#replica) [CRD]

---

## Resources


### Pool

Inserts a new replica pool.

**Operations**: ✅ Create ✅ Read ✅ Delete

#### Fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `current_num_replicas` | i64 |  | [Output Only] The current number of replicas in the pool. |
| `name` | String |  | The name of the replica pool. Must follow the regex [a-z]([-a-z0-9]*[a-z0-9])? and be 1-28 characters long. |
| `type` | String |  | Deprecated! Do not set. |
| `self_link` | String |  | [Output Only] A self-link to the replica pool. |
| `template` | String |  | The template to use when creating replicas in this pool. This template is used during initial instance creation of the pool, when growing the pool in size, or when a replica restarts. |
| `base_instance_name` | String |  | The base instance name to use for the replicas in this pool. This must match the regex [a-z]([-a-z0-9]*[a-z0-9])?. If specified, the instances in this replica pool will be named in the format <base-instance-name>-<ID>. The <ID> postfix will be a four character alphanumeric identifier generated by the service.

If this is not specified by the user, a random base instance name is generated by the service. |
| `target_pool` | String |  | Deprecated, please use target_pools instead. |
| `labels` | Vec<String> |  | A list of labels to attach to this replica pool and all created virtual machines in this replica pool. |
| `health_checks` | Vec<String> |  | Deprecated. Please use template[].healthChecks instead. |
| `auto_restart` | bool |  | Whether replicas in this pool should be restarted if they experience a failure. The default value is true. |
| `resource_views` | Vec<String> |  | The list of resource views that should be updated with all the replicas that are managed by this pool. |
| `description` | String |  | An optional description of the replica pool. |
| `num_replicas` | i64 |  | Deprecated! Use initial_num_replicas instead. |
| `initial_num_replicas` | i64 |  | The initial number of replicas this pool should have. You must provide a value greater than or equal to 0. |
| `target_pools` | Vec<String> |  | A list of target pools to update with the replicas that are managed by this pool. If specified, the replicas in this replica pool will be added to the specified target pools for load balancing purposes. The replica pool must live in the same region as the specified target pools. These values must be the target pool resource names, and not fully qualified URLs. |
| `zone` | String | ✅ | The zone for this replica pool. |
| `project_name` | String | ✅ | The project ID for this replica pool. |


#### Outputs

| Output | Type | Description |
|--------|------|-------------|
| `current_num_replicas` | i64 | [Output Only] The current number of replicas in the pool. |
| `name` | String | The name of the replica pool. Must follow the regex [a-z]([-a-z0-9]*[a-z0-9])? and be 1-28 characters long. |
| `type` | String | Deprecated! Do not set. |
| `self_link` | String | [Output Only] A self-link to the replica pool. |
| `template` | String | The template to use when creating replicas in this pool. This template is used during initial instance creation of the pool, when growing the pool in size, or when a replica restarts. |
| `base_instance_name` | String | The base instance name to use for the replicas in this pool. This must match the regex [a-z]([-a-z0-9]*[a-z0-9])?. If specified, the instances in this replica pool will be named in the format <base-instance-name>-<ID>. The <ID> postfix will be a four character alphanumeric identifier generated by the service.

If this is not specified by the user, a random base instance name is generated by the service. |
| `target_pool` | String | Deprecated, please use target_pools instead. |
| `labels` | Vec<String> | A list of labels to attach to this replica pool and all created virtual machines in this replica pool. |
| `health_checks` | Vec<String> | Deprecated. Please use template[].healthChecks instead. |
| `auto_restart` | bool | Whether replicas in this pool should be restarted if they experience a failure. The default value is true. |
| `resource_views` | Vec<String> | The list of resource views that should be updated with all the replicas that are managed by this pool. |
| `description` | String | An optional description of the replica pool. |
| `num_replicas` | i64 | Deprecated! Use initial_num_replicas instead. |
| `initial_num_replicas` | i64 | The initial number of replicas this pool should have. You must provide a value greater than or equal to 0. |
| `target_pools` | Vec<String> | A list of target pools to update with the replicas that are managed by this pool. If specified, the replicas in this replica pool will be added to the specified target pools for load balancing purposes. The replica pool must live in the same region as the specified target pools. These values must be the target pool resource names, and not fully qualified URLs. |


#### Usage Example

```kcl
# main.k
import gcp

# Initialize provider
provider = gcp.GcpProvider {
    project = "my-project-id"
}

# Create pool
pool = provider.replicapool_api.Pool {
    zone = "value"  # The zone for this replica pool.
    project_name = "value"  # The project ID for this replica pool.
}

# Access pool outputs
pool_id = pool.id
pool_current_num_replicas = pool.current_num_replicas
pool_name = pool.name
pool_type = pool.type
pool_self_link = pool.self_link
pool_template = pool.template
pool_base_instance_name = pool.base_instance_name
pool_target_pool = pool.target_pool
pool_labels = pool.labels
pool_health_checks = pool.health_checks
pool_auto_restart = pool.auto_restart
pool_resource_views = pool.resource_views
pool_description = pool.description
pool_num_replicas = pool.num_replicas
pool_initial_num_replicas = pool.initial_num_replicas
pool_target_pools = pool.target_pools
```

---


### Replica

Restarts a replica in a pool.

**Operations**: ✅ Create ✅ Read ✅ Delete

#### Fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `pool_name` | String | ✅ | The replica pool name for this request. |
| `zone` | String | ✅ | The zone where the replica lives. |
| `replica_name` | String | ✅ | The name of the replica for this request. |
| `project_name` | String | ✅ | The project ID for this request. |


#### Outputs

| Output | Type | Description |
|--------|------|-------------|
| `name` | String | [Output Only] The name of the Replica object. |
| `self_link` | String | [Output Only] The self-link of the Replica. |
| `status` | String | [Output Only] Last known status of the Replica. |


#### Usage Example

```kcl
# main.k
import gcp

# Initialize provider
provider = gcp.GcpProvider {
    project = "my-project-id"
}

# Create replica
replica = provider.replicapool_api.Replica {
    pool_name = "value"  # The replica pool name for this request.
    zone = "value"  # The zone where the replica lives.
    replica_name = "value"  # The name of the replica for this request.
    project_name = "value"  # The project ID for this request.
}

# Access replica outputs
replica_id = replica.id
replica_name = replica.name
replica_self_link = replica.self_link
replica_status = replica.status
```

---



## Common Operations

### Creating Multiple Resources

```kcl
import gcp

provider = gcp.GcpProvider {
    project = "my-project-id"
}

# Create multiple pool resources
pool_0 = provider.replicapool_api.Pool {
    zone = "value-0"
    project_name = "value-0"
}
pool_1 = provider.replicapool_api.Pool {
    zone = "value-1"
    project_name = "value-1"
}
pool_2 = provider.replicapool_api.Pool {
    zone = "value-2"
    project_name = "value-2"
}
```

### Conditional Creation

```kcl
# Only create in production
if environment == "production":
    pool = provider.replicapool_api.Pool {
        zone = "production-value"
        project_name = "production-value"
    }
```

---

## Related Documentation

- [GCP Replicapool_api Documentation](https://cloud.google.com/replicapool_api/docs)
- [Getting Started Guide](../getting-started.md)
- [Installation Guide](../installation.md)
- ⬅️ [Back to README](../../README.md)
